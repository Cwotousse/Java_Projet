package be.mousty.accessToDao;

import java.sql.Date;
import java.util.ArrayList;

import be.mousty.dao.AbstractDAOFactory;
import be.mousty.dao.DAO;
import be.mousty.dao.UtilisateurDAO;
import be.mousty.pojo.Personne;
import be.mousty.pojo.Utilisateur;

public class UtilisateurATD extends PersonneATD{
	
	// VARIABLES
	private String pseudo;
	private String mdp;
	private int typeUtilisateur;
	
	// CONSTRUCTEURS
	public UtilisateurATD(){}
	public UtilisateurATD(String mdp, String pseudo){
		this.pseudo 			= pseudo;
		this.mdp 				= mdp;
		this.typeUtilisateur 	= utilisateurDao.returnUser(mdp,pseudo).getTypeUtilisateur();
	}
	
	public UtilisateurATD(String nom, String pre, String adresse, String sexe, Date dateNaissance,
			String pseudo, String mdp, int typeUtilisateur){
		super(nom, pre, adresse, sexe, dateNaissance);
		this.pseudo 			= pseudo;
		this.mdp 				= mdp;
		this.typeUtilisateur 	= typeUtilisateur;
	}

	// APPEL AUX METHODES DAO DANS LES CLASSES METIER
	AbstractDAOFactory adf = AbstractDAOFactory.getFactory(AbstractDAOFactory.DAO_FACTORY);
	DAO<Utilisateur> UtilisateurDAO = adf.getUtilisateurDAO();
	public int					 	create				(Utilisateur u) 	{ return UtilisateurDAO.create(u); 					}
	public boolean 					delete				()	 				{ return UtilisateurDAO.delete(null); 				}
	public Utilisateur 				getId				(Utilisateur u) 	{ return UtilisateurDAO.getId(u); 					}
	public boolean 					update				(Utilisateur u) 	{ return UtilisateurDAO.update(u); 					}
	public Utilisateur 				find				(int id) 			{ return UtilisateurDAO.find(id); 					} 
	public ArrayList<Utilisateur> 	getList				() 					{ return UtilisateurDAO.getList(); 					} 
	public ArrayList<Utilisateur> 	getListSelonCriteres(Utilisateur u) 	{ return UtilisateurDAO.getListSelonCriteres(u); 	}
	
	// METHODES SURCHARGEES
	@Override
	public String toString() { 
		return 
				"Utilisateur." + System.getProperty("line.separator")
				+ "User name    : " + pseudo +  System.getProperty("line.separator")
				+ "Mot de passe : " + mdp + System.getProperty("line.separator");
	}

	// PROPRIETES
	public String getPseudo			() { return pseudo; }
	public String getMdp			() { return mdp; }
	public int getTypeUtilisateur	() { return typeUtilisateur; }
	public void setPseudo			(String pseudo) 		{ this.pseudo = pseudo; }
	public void setMdp				(String mdp)			{ this.mdp = mdp; }
	public void setTypeUtilisateur	(int typeUtilisateur) 	{ this.typeUtilisateur = typeUtilisateur; }
}

